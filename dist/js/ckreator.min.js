!function(e){"use strict";e.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{template:'<div class="ckcreator-wrapper"><menu-bar></menu-bar><projects-pane></projects-pane><viewport-frame></viewport-frame><projects-new-dialogue></projects-new-dialogue><projects-open-dialogue></projects-open-dialogue></div>',controller:"CKreatorCtlr"}).otherwise({redirectTo:"/"}),t.html5Mode(!0)}]),e.controller("CKreatorCtlr",function(){})}(angular.module("ckreator",["ngResource","ngSanitize","ngRoute","utility_module","ngStorage"])),function(e){"use strict";e.constant("CONF",{api:"http://localhost:8601/",frameworks:["AngularJs"],viewportUrl:"http://localhost:5555"})}(angular.module("ckreator")),function(e){"use strict";e.directive("directoryList",["filesApi",function(e){return{restrict:"E",template:'<div ng-repeat="item in directory" ng-if="item.name !== \'.DS_Store\'"><div class="file-name" ng-bind="item.name"></div></div>',link:function(e,t){}}}])}(angular.module("ckreator")),function(e){"use strict";e.service("filesApi",["$http","CONF",function(e,t){var r={getFiles:function(r){return e.get(t.api+"files",{params:{path:r}})}};return r}])}(angular.module("ckreator")),function(e){"use strict";e.directive("menuBar",["CONF","projectsApi",function(e,t){return{restrict:"E",scope:{},template:'<div id="menu-bar"><div ng-repeat="(itemKey, item) in items" class="menu-item"><div ng-bind="itemKey"></div><div ng-if="item.options" class="drop-down"><div ng-repeat="(optionKey, option) in item.options" ng-bind="optionKey" ng-click="option()" class="menu-item"></div></div></div></div>',link:function(e,r){e.items={Projects:{options:{New:function(){t.newProjectDialogueOpen=!0},Open:function(){t.openProjectDialogueOpen=!0}}}},e.$watch(function(){return!!t.project&&t.project.path},function(r,o){r&&r!==o?(delete e.items.Projects.options.Stop,e.items.Projects.options.Start=function(){t.startProject()}):r!==o&&(delete e.items.Projects.options.Start,e.items.Projects.options.Stop=function(){t.stopProject()})}),e.$watch(function(){return!!t.project&&t.project.running},function(r,o){r&&r!==o?(delete e.items.Projects.options.Start,e.items.Projects.options.Stop=function(){t.stopProject()}):r!==o&&(delete e.items.Projects.options.Stop,e.items.Projects.options.Start=function(){t.startProject()})})}}}])}(angular.module("ckreator")),function(e){"use strict";e.service("projectsApi",["$http","$q","$localStorage","CONF",function(e,t,r,o){var i={url:o.viewportUrl,project:{},projects:{},newProjectDialogueOpen:!1,openProjectDialogueOpen:!1,loadingMessage:null,loadFromStorage:function(){i.project=r.project},getProjects:function(){var r=t.defer();return e.get(o.api+"projects").then(function(e){i.projects=e.data,r.resolve(i.projects)},function(e){}),r.promise},newProject:function(r){var n=t.defer();return i.loadingMessage="Creating project",e.post(o.api+"projects",r).then(function(e){console.log("s",e),i.loadingMessage=null,i.newProjectDialogueOpen=!1,i.getProjects().then(function(e){for(var t in e.data)if(t===r.name){i.project=e.data[t];break}n.resolve(i.project)})},function(e){i.loadingMessage="There was an error creating your project, please try again",console.log("f",e),n.reject(e.data)}),n.promise},openProject:function(e){console.log(e),i.project=e,i.openProjectDialogueOpen=!1},startProject:function(){var r=t.defer();return e.get(o.api+"projects/start",{params:{project:i.project.name}}).then(function(e){i.project.running=!0,r.resolve(e)},function(e){i.project.running=!1,r.reject(e)}),r.promise},stopProject:function(){var r=t.defer();return e.get(o.api+"projects/stop",{params:{project:i.project.name}}).then(function(e){i.project.running=!1,r.resolve(e)},function(e){r.reject(e)}),r.promise}};return i}])}(angular.module("ckreator")),function(e){"use strict";e.directive("projectsNewDialogue",["CONF","projectsApi",function(e,t){return{restrict:"E",scope:{},template:'<div ng-if="projectsApi.newProjectDialogueOpen === true" class="dialogue-wrapper"><div class="dialogue-inner" ng-class="projectsApi.loadingMessage ? \'pulse\' : \'\'"><div ng-if="!projectsApi.loadingMessage"><h2>New project</h2><div class="input-wrapper"><label for="new-project-name">name</label> <input id="new-project-name" type="text" ng-model="project.name"></div><div class="input-wrapper"><label for="new-project-description">description</label> <textarea id="new-project-description" ng-model="project.description"></textarea></div><div class="input-wrapper"><label for="new-project-author">author</label> <input id="new-project-author" type="text" ng-model="project.author"></div><div class="input-wrapper"><label for="new-project-version">version</label> <input id="new-project-version" type="text" ng-model="project.version"></div><div class="input-wrapper"><label for="new-project-keywords">keywords</label> <input id="new-project-keywords" type="text" ng-model="project.keywords"></div><div class="input-wrapper"><label for="new-project-license">license</label> <input id="new-project-license" type="text" ng-model="project.license"></div><div class="input-wrapper"><button ng-click="projectsApi.newProject(project)" class="circle"><i class="fa fa-check"></i></button> <button ng-click="projectsApi.newProjectDialogueOpen = false;" class="circle"><i class="fa fa-close"></i></button></div></div><div ng-if="projectsApi.loadingMessage" ng-bind-html="projectsApi.loadingMessage"></div></div></div>',link:function(r,o){r.frameworks=e.frameworks,r.projectsApi=t}}}])}(angular.module("ckreator")),function(e){"use strict";e.directive("projectsOpenDialogue",["CONF","projectsApi",function(e,t){return{restrict:"E",scope:{},template:'<div ng-if="projectsApi.openProjectDialogueOpen === true" class="dialogue-wrapper"><div class="dialogue-inner"><h2>Open project</h2><div class="project-list"><div ng-repeat="project in projectsApi.projects" class="project" ng-bind="project.name" ng-click="projectsApi.openProject(project)"></div></div><div class="input-wrapper"><button ng-click="projectsApi.openProjectDialogueOpen = false;" class="circle"><i class="fa fa-close"></i></button></div></div></div>',link:function(e,r){e.projectsApi=t,t.getProjects()}}}])}(angular.module("ckreator")),function(e){"use strict";e.directive("projectsPane",["projectsApi",function(e){return{restrict:"E",template:'<div id="project-container"><directory-list project="projectApi.project"></directory-list></div>',link:function(t,r){t.projectsApi=e,e.loadFromStorage()}}}])}(angular.module("ckreator")),function(e){"use strict";e.directive("viewportFrame",["$sce","$http","$timeout","CONF","projectsApi",function(e,t,r,o,i){return{restrict:"E",scope:{},template:'<div id="viewport"><div ng-bind-html="projectsApi.project.name ? projectsApi.project.name + \' <i>\'+ (projectsApi.project.running ? \'- running\' : \'\') +\'</i>\' : \'Select a project\'" class="viewport-project-name"></div><div class="frame-wrapper"><iframe ng-if="url" src="{{url}}" border="0" width="100%" height="100%"></iframe></div></div>',link:function(t,r){t.projectsApi=i,t.$watch(function(){return!!i.project&&i.project.running},function(r,o){r&&r!==o&&(r?t.url=e.trustAsResourceUrl(i.url):t.url=null)})}}}])}(angular.module("ckreator"));
//# sourceMappingURL=ckreator.min.js.map
